#!/bin/bash

echo ' ██████╗ ██████╗ ███╗   ██╗███████╗    ███████╗██╗██╗     ███████╗    ████████╗███████╗███████╗████████╗'
echo '██╔════╝██╔═══██╗████╗  ██║██╔════╝    ██╔════╝██║██║     ██╔════╝    ╚══██╔══╝██╔════╝██╔════╝╚══██╔══╝'
echo '██║     ██║   ██║██╔██╗ ██║█████╗      █████╗  ██║██║     █████╗         ██║   █████╗  ███████╗   ██║   '
echo '██║     ██║   ██║██║╚██╗██║██╔══╝      ██╔══╝  ██║██║     ██╔══╝         ██║   ██╔══╝  ╚════██║   ██║   '
echo '╚██████╗╚██████╔╝██║ ╚████║██║         ██║     ██║███████╗███████╗       ██║   ███████╗███████║   ██║   '
echo ' ╚═════╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝         ╚═╝     ╚═╝╚══════╝╚══════╝       ╚═╝   ╚══════╝╚══════╝   ╚═╝   '

if [ $# -ne 1 ]; then
	echo "[Error]: The number of arguments is invalid."
    exit 1
fi

make

if [ $? -ne 0 ]; then
	echo "[Error]: Compile error."
    exit 1
fi
directory=$1


for file in "$directory"*
do
    echo "----------------------------------------------------"
    echo $file
    ./miniRT $file
    echo "----------------------------------------------------"
done
